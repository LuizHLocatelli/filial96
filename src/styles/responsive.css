
/* Responsividade Mobile aprimorada - NavigationTabs */
@layer utilities {
  /* Regras específicas para barra circular flutuante no mobile */
  @media (max-width: 767px) {
    .nav-tab-inactive,
    .nav-tab-active {
      min-height: 64px !important;
      min-width: 52px !important;
      border-radius: 1.5rem !important;
    }
    
    /* Texto responsivo para mobile otimizado - SEM TRUNCAMENTO */
    .text-\[10px\] {
      font-size: 10px !important;
      line-height: 1.2 !important;
      font-weight: 600 !important;
      letter-spacing: -0.01em !important;
      white-space: nowrap !important;
      overflow: visible !important;
    }
    
    .text-\[9px\] {
      font-size: 9px !important;
      line-height: 1.1 !important;
      font-weight: 700 !important;
      letter-spacing: -0.01em !important;
      white-space: nowrap !important;
      overflow: visible !important;
    }
    
    /* Container principal mais largo para acomodar nomes completos */
    .nav-glass-effect {
      max-width: 26rem !important; /* Aumentado para 416px */
      margin: 0 auto !important;
      border-radius: 2rem !important;
    }

    /* Melhorias específicas para interface Rotinas e Tarefas */
    .activity-card-mobile {
      padding: 0.75rem !important;
    }

    .activity-filters-mobile {
      gap: 0.375rem !important;
    }

    .activity-metadata-mobile {
      font-size: 10px !important;
      line-height: 1.3 !important;
    }

    .activity-badge-mobile {
      font-size: 9px !important;
      padding: 0.125rem 0.375rem !important;
    }

    .activity-stats-mobile {
      grid-template-columns: repeat(2, 1fr) !important;
      gap: 0.5rem !important;
    }

    /* Overflow e scroll otimizado para cards */
    .activity-timeline-mobile {
      padding-bottom: 6rem !important; /* Espaço para NavigationTabs */
    }
  }

  /* Telas pequenas - 480px e abaixo */
  @media (max-width: 480px) {
    .nav-glass-effect {
      padding: 1rem 0.75rem !important;
      max-width: 24rem !important;
      border-radius: 1.75rem !important;
    }
    
    .nav-tab-inactive,
    .nav-tab-active {
      min-height: 64px !important;
      min-width: 48px !important;
      border-radius: 1.25rem !important;
    }

    /* Interface Rotinas e Tarefas em telas muito pequenas */
    .activity-card-mobile {
      padding: 0.5rem !important;
    }

    .activity-stats-mobile {
      gap: 0.375rem !important;
    }

    .activity-filters-mobile {
      gap: 0.25rem !important;
    }

    .activity-metadata-mobile {
      font-size: 9px !important;
    }

    .activity-badge-mobile {
      font-size: 8px !important;
      padding: 0.125rem 0.25rem !important;
    }
  }

  /* Telas extra pequenas - 360px e abaixo */
  @media (max-width: 360px) {
    .nav-glass-effect {
      padding: 0.75rem 0.5rem !important;
      max-width: 22rem !important;
      border-radius: 1.5rem !important;
    }
    
    .nav-tab-inactive,
    .nav-tab-active {
      min-height: 64px !important;
      min-width: 44px !important;
      border-radius: 1rem !important;
    }
    
    /* Container de navegação com gap mínimo */
    .justify-between {
      gap: 0.25rem !important;
    }
    
    /* Texto ainda menor mas ainda legível */
    .text-\[9px\] {
      font-size: 8px !important;
      font-weight: 800 !important;
      letter-spacing: -0.02em !important;
    }

    /* Melhorias extremas para telas muito pequenas */
    .activity-card-mobile {
      padding: 0.375rem !important;
    }

    .activity-metadata-mobile {
      font-size: 8px !important;
    }

    .activity-badge-mobile {
      font-size: 7px !important;
      padding: 0.125rem 0.25rem !important;
    }

    /* Garantir que botões sejam tocáveis mesmo em telas pequenas */
    .activity-button-mobile {
      min-height: 32px !important;
      min-width: 32px !important;
    }
  }

  /* Desktop - garantir bordas arredondadas e posicionamento centralizado */
  @media (min-width: 768px) {
    .nav-tab-inactive,
    .nav-tab-active {
      border-radius: 1.5rem !important;
    }
    
    .nav-glass-effect {
      border-radius: 2rem !important;
      margin: 0 auto !important;
      position: relative !important;
    }
  }

  /* Melhorias específicas para modo claro */
  @media (prefers-color-scheme: light) {
    .nav-tab-inactive {
      color: rgba(30, 30, 30, 0.85) !important;
    }
    
    .nav-icon-inactive {
      color: rgba(30, 30, 30, 0.75) !important;
    }
  }

  /* Para garantir que funcione também com classes explícitas */
  :root:not(.dark) .nav-tab-inactive {
    color: rgba(30, 30, 30, 0.85) !important;
  }
  
  :root:not(.dark) .nav-icon-inactive {
    color: rgba(30, 30, 30, 0.75) !important;
  }
  
  /* Scroll horizontal prevention e overflow otimizado */
  @media (max-width: 767px) {
    .nav-glass-effect {
      overflow: visible !important;
    }
    
    .justify-between {
      min-width: 0 !important;
      flex-wrap: nowrap !important;
    }
    
    .flex-1 {
      min-width: 0 !important;
      flex-shrink: 0 !important;
    }

    /* Prevenir overflow horizontal em cards de atividades */
    .activity-card-content {
      overflow: hidden !important;
    }

    .activity-title-mobile {
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      white-space: nowrap !important;
    }

    .activity-description-mobile {
      overflow: hidden !important;
      display: -webkit-box !important;
      -webkit-line-clamp: 2 !important;
      -webkit-box-orient: vertical !important;
    }
  }

  /* Novas classes para alturas aprimoradas */
  .h-18 {
    height: 4.5rem !important; /* 72px */
  }
  
  .w-4\.5 {
    width: 1.125rem !important; /* 18px */
  }
  
  .h-4\.5 {
    height: 1.125rem !important; /* 18px */
  }

  /* Garantir espaço adequado no final das páginas para evitar sobreposição das NavigationTabs */
  @media (max-width: 767px) {
    .pb-32 {
      padding-bottom: 8rem !important; /* 128px - espaço adequado para NavigationTabs mobile */
    }

    /* Espaço específico para timeline de atividades */
    .activity-timeline-padding {
      padding-bottom: 7rem !important;
    }
  }

  @media (min-width: 768px) {
    .pb-28 {
      padding-bottom: 7rem !important; /* 112px - espaço adequado para NavigationTabs desktop */
    }
  }

  /* Classes utilitárias para responsividade específica de atividades */
  .activity-responsive-text {
    font-size: 0.75rem !important;
    line-height: 1.2 !important;
  }

  @media (min-width: 640px) {
    .activity-responsive-text {
      font-size: 0.875rem !important;
      line-height: 1.25 !important;
    }
  }

  .activity-responsive-padding {
    padding: 0.75rem !important;
  }

  @media (min-width: 640px) {
    .activity-responsive-padding {
      padding: 1rem !important;
    }
  }

  .activity-responsive-gap {
    gap: 0.375rem !important;
  }

  @media (min-width: 640px) {
    .activity-responsive-gap {
      gap: 0.75rem !important;
    }
  }
}
